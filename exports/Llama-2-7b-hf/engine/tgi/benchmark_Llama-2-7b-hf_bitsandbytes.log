[2m2024-01-20T17:31:25.126858Z[0m [32m INFO[0m [2mtext_generation_launcher[0m[2m:[0m Args { model_id: "/home/shwu/LLM-Efficiency-Survey/model/Llama-2-7b-hf", revision: None, validation_workers: 2, sharded: None, num_shard: None, quantize: Some(Bitsandbytes), speculate: None, dtype: None, trust_remote_code: false, max_concurrent_requests: 128, max_best_of: 2, max_stop_sequences: 4, max_top_n_tokens: 5, max_input_length: 1024, max_total_tokens: 2048, waiting_served_ratio: 1.2, max_batch_prefill_tokens: 4096, max_batch_total_tokens: None, max_waiting_tokens: 20, hostname: "0.0.0.0", port: 3000, shard_uds_path: "/tmp/text-generation-server", master_addr: "localhost", master_port: 29500, huggingface_hub_cache: None, weights_cache_override: None, disable_custom_kernels: false, cuda_memory_fraction: 1.0, rope_scaling: None, rope_factor: None, json_output: false, otlp_endpoint: None, cors_allow_origin: [], watermark_gamma: None, watermark_delta: None, ngrok: false, ngrok_authtoken: None, ngrok_edge: None, env: false }
[2m2024-01-20T17:31:25.127196Z[0m [32m INFO[0m [1mdownload[0m: [2mtext_generation_launcher[0m[2m:[0m Starting download process.
[2m2024-01-20T17:31:27.745378Z[0m [32m INFO[0m [2mtext_generation_launcher[0m[2m:[0m Files are already present on the host. Skipping download.

[2m2024-01-20T17:31:28.331172Z[0m [32m INFO[0m [1mdownload[0m: [2mtext_generation_launcher[0m[2m:[0m Successfully downloaded weights.
[2m2024-01-20T17:31:28.331452Z[0m [32m INFO[0m [1mshard-manager[0m: [2mtext_generation_launcher[0m[2m:[0m Starting shard [2m[3mrank[0m[2m=[0m0[0m
[2m2024-01-20T17:31:32.230074Z[0m [33m WARN[0m [2mtext_generation_launcher[0m[2m:[0m Could not import Flash Attention enabled models: No module named 'vllm'

[2m2024-01-20T17:31:37.234352Z[0m [32m INFO[0m [2mtext_generation_launcher[0m[2m:[0m Server started at unix:///tmp/text-generation-server-0

[2m2024-01-20T17:31:37.240682Z[0m [32m INFO[0m [1mshard-manager[0m: [2mtext_generation_launcher[0m[2m:[0m Shard ready in 8.908554482s [2m[3mrank[0m[2m=[0m0[0m
[2m2024-01-20T17:31:37.339949Z[0m [32m INFO[0m [2mtext_generation_launcher[0m[2m:[0m Starting Webserver
[2m2024-01-20T17:31:37.422335Z[0m [33m WARN[0m [2mtext_generation_router[0m[2m:[0m [2mrouter/src/main.rs[0m[2m:[0m[2m246:[0m Could not find tokenizer config locally and no revision specified
[2m2024-01-20T17:31:37.422410Z[0m [33m WARN[0m [2mtext_generation_router[0m[2m:[0m [2mrouter/src/main.rs[0m[2m:[0m[2m258:[0m no pipeline tag found for model /home/shwu/LLM-Efficiency-Survey/model/Llama-2-7b-hf
[2m2024-01-20T17:31:37.428779Z[0m [32m INFO[0m [2mtext_generation_router[0m[2m:[0m [2mrouter/src/main.rs[0m[2m:[0m[2m277:[0m Warming up model
[2m2024-01-20T17:31:39.834161Z[0m [33m WARN[0m [2mtext_generation_router[0m[2m:[0m [2mrouter/src/main.rs[0m[2m:[0m[2m291:[0m Model does not support automatic max batch total tokens
[2m2024-01-20T17:31:39.834185Z[0m [32m INFO[0m [2mtext_generation_router[0m[2m:[0m [2mrouter/src/main.rs[0m[2m:[0m[2m313:[0m Setting max batch total tokens to 16000
[2m2024-01-20T17:31:39.834189Z[0m [32m INFO[0m [2mtext_generation_router[0m[2m:[0m [2mrouter/src/main.rs[0m[2m:[0m[2m314:[0m Connected
[2m2024-01-20T17:32:13.224441Z[0m [32m INFO[0m [1mgenerate[0m[1m{[0m[3mparameters[0m[2m=[0mGenerateParameters { best_of: None, temperature: None, repetition_penalty: None, top_k: None, top_p: None, typical_p: None, do_sample: false, max_new_tokens: Some(128), return_full_text: None, stop: [], truncate: None, watermark: false, details: false, decoder_input_details: false, seed: None, top_n_tokens: None } [3mtotal_time[0m[2m=[0m"25.072680965s" [3mvalidation_time[0m[2m=[0m"656.654Âµs" [3mqueue_time[0m[2m=[0m"91.156Âµs" [3minference_time[0m[2m=[0m"25.071933376s" [3mtime_per_token[0m[2m=[0m"195.874479ms" [3mseed[0m[2m=[0m"None"[1m}[0m[2m:[0m [2mtext_generation_router::server[0m[2m:[0m [2mrouter/src/server.rs[0m[2m:[0m[2m296:[0m Success
[2m2024-01-20T17:32:37.595849Z[0m [32m INFO[0m [1mgenerate[0m[1m{[0m[3mparameters[0m[2m=[0mGenerateParameters { best_of: None, temperature: None, repetition_penalty: None, top_k: None, top_p: None, typical_p: None, do_sample: false, max_new_tokens: Some(128), return_full_text: None, stop: [], truncate: None, watermark: false, details: false, decoder_input_details: false, seed: None, top_n_tokens: None } [3mtotal_time[0m[2m=[0m"24.368520386s" [3mvalidation_time[0m[2m=[0m"501.159Âµs" [3mqueue_time[0m[2m=[0m"61.26Âµs" [3minference_time[0m[2m=[0m"24.367958365s" [3mtime_per_token[0m[2m=[0m"190.374674ms" [3mseed[0m[2m=[0m"None"[1m}[0m[2m:[0m [2mtext_generation_router::server[0m[2m:[0m [2mrouter/src/server.rs[0m[2m:[0m[2m296:[0m Success
[2m2024-01-20T17:33:01.757470Z[0m [32m INFO[0m [1mgenerate[0m[1m{[0m[3mparameters[0m[2m=[0mGenerateParameters { best_of: None, temperature: None, repetition_penalty: None, top_k: None, top_p: None, typical_p: None, do_sample: false, max_new_tokens: Some(128), return_full_text: None, stop: [], truncate: None, watermark: false, details: false, decoder_input_details: false, seed: None, top_n_tokens: None } [3mtotal_time[0m[2m=[0m"24.15851313s" [3mvalidation_time[0m[2m=[0m"461.958Âµs" [3mqueue_time[0m[2m=[0m"60.056Âµs" [3minference_time[0m[2m=[0m"24.157991473s" [3mtime_per_token[0m[2m=[0m"188.734308ms" [3mseed[0m[2m=[0m"None"[1m}[0m[2m:[0m [2mtext_generation_router::server[0m[2m:[0m [2mrouter/src/server.rs[0m[2m:[0m[2m296:[0m Success
[2m2024-01-20T17:33:25.991984Z[0m [32m INFO[0m [1mgenerate[0m[1m{[0m[3mparameters[0m[2m=[0mGenerateParameters { best_of: None, temperature: None, repetition_penalty: None, top_k: None, top_p: None, typical_p: None, do_sample: false, max_new_tokens: Some(128), return_full_text: None, stop: [], truncate: None, watermark: false, details: false, decoder_input_details: false, seed: None, top_n_tokens: None } [3mtotal_time[0m[2m=[0m"24.231688512s" [3mvalidation_time[0m[2m=[0m"467.334Âµs" [3mqueue_time[0m[2m=[0m"55.35Âµs" [3minference_time[0m[2m=[0m"24.231166052s" [3mtime_per_token[0m[2m=[0m"189.305984ms" [3mseed[0m[2m=[0m"None"[1m}[0m[2m:[0m [2mtext_generation_router::server[0m[2m:[0m [2mrouter/src/server.rs[0m[2m:[0m[2m296:[0m Success
[2m2024-01-20T17:33:50.225516Z[0m [32m INFO[0m [1mgenerate[0m[1m{[0m[3mparameters[0m[2m=[0mGenerateParameters { best_of: None, temperature: None, repetition_penalty: None, top_k: None, top_p: None, typical_p: None, do_sample: false, max_new_tokens: Some(128), return_full_text: None, stop: [], truncate: None, watermark: false, details: false, decoder_input_details: false, seed: None, top_n_tokens: None } [3mtotal_time[0m[2m=[0m"24.230724273s" [3mvalidation_time[0m[2m=[0m"401.91Âµs" [3mqueue_time[0m[2m=[0m"77.7Âµs" [3minference_time[0m[2m=[0m"24.230244863s" [3mtime_per_token[0m[2m=[0m"189.298787ms" [3mseed[0m[2m=[0m"None"[1m}[0m[2m:[0m [2mtext_generation_router::server[0m[2m:[0m [2mrouter/src/server.rs[0m[2m:[0m[2m296:[0m Success
[2m2024-01-20T17:34:14.511353Z[0m [32m INFO[0m [1mgenerate[0m[1m{[0m[3mparameters[0m[2m=[0mGenerateParameters { best_of: None, temperature: None, repetition_penalty: None, top_k: None, top_p: None, typical_p: None, do_sample: false, max_new_tokens: Some(128), return_full_text: None, stop: [], truncate: None, watermark: false, details: false, decoder_input_details: false, seed: None, top_n_tokens: None } [3mtotal_time[0m[2m=[0m"24.282895395s" [3mvalidation_time[0m[2m=[0m"401.047Âµs" [3mqueue_time[0m[2m=[0m"60.749Âµs" [3minference_time[0m[2m=[0m"24.282433782s" [3mtime_per_token[0m[2m=[0m"189.706513ms" [3mseed[0m[2m=[0m"None"[1m}[0m[2m:[0m [2mtext_generation_router::server[0m[2m:[0m [2mrouter/src/server.rs[0m[2m:[0m[2m296:[0m Success
[2m2024-01-20T17:34:38.703424Z[0m [32m INFO[0m [1mgenerate[0m[1m{[0m[3mparameters[0m[2m=[0mGenerateParameters { best_of: None, temperature: None, repetition_penalty: None, top_k: None, top_p: None, typical_p: None, do_sample: false, max_new_tokens: Some(128), return_full_text: None, stop: [], truncate: None, watermark: false, details: false, decoder_input_details: false, seed: None, top_n_tokens: None } [3mtotal_time[0m[2m=[0m"24.188767524s" [3mvalidation_time[0m[2m=[0m"365.73Âµs" [3mqueue_time[0m[2m=[0m"63.318Âµs" [3minference_time[0m[2m=[0m"24.18833892s" [3mtime_per_token[0m[2m=[0m"188.971397ms" [3mseed[0m[2m=[0m"None"[1m}[0m[2m:[0m [2mtext_generation_router::server[0m[2m:[0m [2mrouter/src/server.rs[0m[2m:[0m[2m296:[0m Success
[2m2024-01-20T17:35:02.885027Z[0m [32m INFO[0m [1mgenerate[0m[1m{[0m[3mparameters[0m[2m=[0mGenerateParameters { best_of: None, temperature: None, repetition_penalty: None, top_k: None, top_p: None, typical_p: None, do_sample: false, max_new_tokens: Some(128), return_full_text: None, stop: [], truncate: None, watermark: false, details: false, decoder_input_details: false, seed: None, top_n_tokens: None } [3mtotal_time[0m[2m=[0m"24.178434101s" [3mvalidation_time[0m[2m=[0m"557.874Âµs" [3mqueue_time[0m[2m=[0m"57.863Âµs" [3minference_time[0m[2m=[0m"24.177818564s" [3mtime_per_token[0m[2m=[0m"188.889207ms" [3mseed[0m[2m=[0m"None"[1m}[0m[2m:[0m [2mtext_generation_router::server[0m[2m:[0m [2mrouter/src/server.rs[0m[2m:[0m[2m296:[0m Success
[2m2024-01-20T17:35:27.222066Z[0m [32m INFO[0m [1mgenerate[0m[1m{[0m[3mparameters[0m[2m=[0mGenerateParameters { best_of: None, temperature: None, repetition_penalty: None, top_k: None, top_p: None, typical_p: None, do_sample: false, max_new_tokens: Some(128), return_full_text: None, stop: [], truncate: None, watermark: false, details: false, decoder_input_details: false, seed: None, top_n_tokens: None } [3mtotal_time[0m[2m=[0m"24.334119976s" [3mvalidation_time[0m[2m=[0m"501.863Âµs" [3mqueue_time[0m[2m=[0m"57.745Âµs" [3minference_time[0m[2m=[0m"24.333560759s" [3mtime_per_token[0m[2m=[0m"190.105943ms" [3mseed[0m[2m=[0m"None"[1m}[0m[2m:[0m [2mtext_generation_router::server[0m[2m:[0m [2mrouter/src/server.rs[0m[2m:[0m[2m296:[0m Success
[2m2024-01-20T17:35:51.542549Z[0m [32m INFO[0m [1mgenerate[0m[1m{[0m[3mparameters[0m[2m=[0mGenerateParameters { best_of: None, temperature: None, repetition_penalty: None, top_k: None, top_p: None, typical_p: None, do_sample: false, max_new_tokens: Some(128), return_full_text: None, stop: [], truncate: None, watermark: false, details: false, decoder_input_details: false, seed: None, top_n_tokens: None } [3mtotal_time[0m[2m=[0m"24.317722324s" [3mvalidation_time[0m[2m=[0m"313.604Âµs" [3mqueue_time[0m[2m=[0m"59.559Âµs" [3minference_time[0m[2m=[0m"24.317349504s" [3mtime_per_token[0m[2m=[0m"189.979293ms" [3mseed[0m[2m=[0m"None"[1m}[0m[2m:[0m [2mtext_generation_router::server[0m[2m:[0m [2mrouter/src/server.rs[0m[2m:[0m[2m296:[0m Success
[2m2024-01-20T17:35:51.547943Z[0m [32m INFO[0m [2mtext_generation_router::server[0m[2m:[0m [2mrouter/src/server.rs[0m[2m:[0m[2m974:[0m signal received, starting graceful shutdown
[2m2024-01-20T17:35:51.618444Z[0m [32m INFO[0m [2mtext_generation_launcher[0m[2m:[0m Terminating webserver
[2m2024-01-20T17:35:51.618483Z[0m [32m INFO[0m [2mtext_generation_launcher[0m[2m:[0m Waiting for webserver to gracefully shutdown
[2m2024-01-20T17:35:51.618508Z[0m [32m INFO[0m [2mtext_generation_launcher[0m[2m:[0m webserver terminated
[2m2024-01-20T17:35:51.618512Z[0m [32m INFO[0m [2mtext_generation_launcher[0m[2m:[0m Shutting down shards
[2m2024-01-20T17:35:51.707028Z[0m [32m INFO[0m [1mshard-manager[0m: [2mtext_generation_launcher[0m[2m:[0m Shard terminated [2m[3mrank[0m[2m=[0m0[0m
